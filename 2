bits 16
section .STAGE2
extern _start
extern _PrintString
start:
    mov al, 'T'
    mov ah, 0x0E
    int 0x10

    mov ax, 0x7E00
    mov ds, ax

    mov si, test
    call __PrintString
    call _start
__PrintString:
    enter 0
    cld
    push si
    mov si, [bp+4]
    mov ah, 0x0E
.Loop:
    lodsb
    cmp al, 0
    jz .Done
    int 0x10
    jmp short .Loop
.Done:
    pop si
    leave
    ret
_PrintChar:
    enter 0
    mov ah, 0x0E
    mov al, [bp+4]
    int 0x10
    leave
    ret
test1: db "Fully Loaded", 0x00
section .data
test: db "Fully Loaded", 0x00
